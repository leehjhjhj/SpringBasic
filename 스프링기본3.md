# 싱글톤 컨테이너
- 싱글톤 컨테이너를 이용하면 객체를 생성하지 않음 - 테스트 참조
- 싱글톤 방식은 무상태로 설계해야함
  - 특정 클라이언트가 값을 변경할 수 있으면 안된다.
  - 가급적 읽기만 가능하다
- 모두 같은 객체가 나오게 한다. test 참고

## @Configuration
- appConfig를 등록하였지만 AppConfig@CGLIB가 만들어지고 이 클래스가 싱글톤이 되도록 보장을 해줌
- 그러니깐 bean을 등록할 때, 등록되어 있는 것은 컨테이너에 등록을 하지 않는다.
- 만약 있으면 기존에 있던 것을 반환한다.
- 그래서 싱글톤이 보장이 된다.
- 이게 없으면 싱글톤이 깨진다. 정직하게 AppConfig가 실행되어서 세번의 new가 발생되어서 객체가 마구 생김

## 컴포넌트 스캔
- @component 를 다 붙여주면 알아서 빈 등록(빈에다가)
- @component를 붙인 빈은 클래스 명에 맨 앞만 소문자이다.
- @Autowired가 있으면 스프링 컨테이너에 있는 해당 타입의 빈을 찾아서 주입
  - getBean(.class)와 같은 기능.
- 그러나 수동으로 할 때는 의존관계를 수동으로 주입했는데, 타입이 같은 경우 무엇을 주입할 지 모름
- basePackages = "" 를 통해서 탐색 시작 위치(하위로)를 정할 수 있다.
- 권장 방법: 설정 정보 클래스 위치를 프로젝트 최상단에 둔다.
- includeFilter, excludeFilter이 있다.

# 수동 빈등록 vs 자동 빈등록
- 수동이 먼저 우선권을 가진다.
- 그럼 오버라이딩이 만들어짐, 애매한 상황이 많이 일어나서 버그가 생김
- 그래서 스프링인 자동빈 수동빈이 충돌하면 에러가 난다.